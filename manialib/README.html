<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>ManiaLib - Readme</title>
	<style type="text/css">
	
		body {
			background: #333333;
			color: #eeeeee;
			font-family: Verdana, Arial, Helvetica, sans-serif;
			font-size: 12px;
			line-height: 15px;
		}
		
		#frame {
			width: 770px;
			margin: 25px auto;
			padding: 25px;
			border: 1px #cccccc solid;
			-moz-border-radius: 10px;
			-webkit-border-radius: 10px;
		}
		
		h1, h2, h3, h4 {
			color: #ffff00;
		}
		
		h1 {
			text-align: center;
		}
		
		p {
			text-align: justify;
		}
		
		a, a:visited {
			color: #ffff00;
			text-decoration: underline;
		}
		
		a:hover, a:active {
			color: orange;
		}
	</style>
</head>
<body>
<div id="frame">
<h1>ManiaLib</h1>

<h2>Version: 1.0 beta</h2>
<p><i>This a beta version. Code is stable but the documentation is a work in 
progress. You can use the API reference 
(<a href="http://api.manialib.com">api.manialib.com</a>) to help you understand 
the code.</i></p>

<h2>Useful links</h2>
<ul>
	<li>Project website: <a href="http://manialib.com">manialib.com</a></li>
	<li>API reference: <a href="http://api.manialib.com">api.manialib.com</a></li>
	<li>Demo Manialink: <a href="tmtp:///:manialib">manialib</a></li>
	<li>English thread: <a href="http://www.tm-forum.com/viewtopic.php?f=43&t=22078">http://www.tm-forum.com/viewtopic.php?f=43&t=22078</a></li>
	<li>French thread: <a href="http://www.trackmania.com/fr/forum/viewtopic.php?t=34007">http://www.trackmania.com/fr/forum/viewtopic.php?t=34007</a></li>
</ul>

<h2>What is ManiaLib?</h2>
<p>
<b>ManiaLib helps PHP programmers create dynamic Manialinks faster</b>
</p>
<p>
In more technical terms, ManiaLib is a lightweight PHP framework for the 
development of Manialinks. It provides a set of object-oriented libraries to 
help you save time on classic Manialink tasks.
</p>


<h2>Features</h2>
<ul>
	<li>GUI Toolkit for easily creating Manialink interfaces</li>
	<li>Maniacode Toolkit for easily writing Maniacodes</li>
	<li>Request and session handling</li>
	<li>Lightweight MySQL abstraction library</li>
	<li>Internationalization features</li>
	<li>And more...</li>
</ul>
	
<h2>License</h2>
<p>
ManiaLib  is free software: you can redistribute it and/or modify it under
the terms of the GNU Lesser General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your option) any
later version.
</p>
<p>
ManiaLib is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.
</p>
<p>
You should have received a copy of the GNU Lesser General Public License
along with ManiaLib.  If not, see 
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</p>

<h2>Requirements</h2>
<ul>
<li>
<b>Experience with PHP and Manialinks.</b>
</li>
<li>
<b>PHP editor.</b> Text editor (eg.
<a href="http://notepad-plus-plus.org/">Notepad++</a>) or IDE (recommended) (eg.
<a href="http://www.eclipse.org/pdt/">Eclipse PDT</a>) 
</li>
<li>
<b>Local Web server w/ PHP 5.2+</b> to test your Manialink localy. 
(eg. <a href="http://www.apachefriends.org/en/xampp.html">XAMPP</a> or 
<a href="http://www.easyphp.org/">EasyPHP</a>)
</li>
<li><b>MySQL</b> (optionnal)</li>
</ul>

<h2>Installation</h2>
<p>
ManiaLib is a framework, but it is provided with an example to help you 
get started. Here are the instructions to setup the example.
</p>
<ol>
<li><b>Unzip</b> the package in an empty directory and upload everything.</li>
<li>Create <b>/config/config.php</b> and edit it to match your settings. You may 
use /config/config-example.php for help.</li>
<li>If you want to use the <b>Shoutbox</b> controller, create the table in your 
database (see sql dump below)</li>
<li>That's it!</li>
</ol>

<p class="tip">
<b>Tip:</b>If you installed ManiaLib on your local Web server at 
<b>http://localhost/manialib/</b>, you can use the short Manialink 
<b>manialibdev</b>.
</p>

<h3>SQL structure of the shoutbox table</h3>
<pre>
CREATE TABLE IF NOT EXISTS `ManiaLib_Shouts` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `datePosted` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `login` varchar(25) NOT NULL,
  `nickname` varchar(75) NOT NULL,
  `message` varchar(160) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8;
</pre>

<h2>Working with ManiaLib</h2>

<h3>Model-View-Controller</h3>

The recommended method for creating a Manialink with Manialib is to use the MVC 
framework. It implements the 
<a href="http://en.wikipedia.org/wiki/Model%E2%80%93View%E2%80%93Controller">Model-View-Controller</a> 
design pattern. It may sound complicated more complicated than it really is:
<ul>
<li>
The <b>model</b> manages the data (typically MySQL)
</li>
<li>
The <b>view</b> renders the Manialink pages
</li>
<li>
The <b>controller</b> receives input, interacts with the model, and initiate the 
response
</li>
</ul>

<h3>How does it work in ManiaLib?</h3>
<p>
First, you need to know that every page will be accessed through <b>index.php</b>. 
You just need to put the path of your request at the begining of the query 
string (just after the "?").
</p>
<p>
Let's say you want to access <b>index.php?/home/about/</b>. 
</p>
<p>
First, ManiaLib is going to look for a controller (a PHP class) named 
<b>HomeController</b> in the <b>/controllers/ directory</b>. 
</p>
<p>
Then, it is going to search for the <b>about()</b> method of the HomeController 
class. HomeController::about() will contain all the business logic code of this 
page (for example increasing a visit counter, retrieving information about the 
visitor, etc.). 
</p>
<p>
Last but not least, ManiaLib is going to look 
for a view to render. All the views remain in the <b>/views/ directory</b>. 
All the views of HomeController will be in the Home directory. The view for 
about() will named about.php. All in all, the view will be: 
<b>/views/Home/about.php</b>.
</p>
<p>
<b></b>Let's sum this up:</b>
</p>
<ul>
<li><b>http://yourwebsite.com/index.php?/home/about/</b> is a page</li>
<li>It maps to <b>HomeController::about()</b> in <b>/controllers/HomeController.class.php</b></li>
<li>The view is <b>/views/Home/about.php</b></li>
</ul>

<h3>Directory structure</h3>
<ul>
<li><b>/config/</b> : config files</li>
<li><b>/controllers/</b> : controllers of your application</li>
<li><b>/filters/</b> : filters of your application</li>
<li><b>/images/</b> : images</li>
<li><b>/langs/</b> : XML dictionaries</li>
<li><b>/libraries/</b> : misc classes, autoloaded with the naming convention <i>ClassName.class.php</i></li>
<li><b>/logs/</b> : error and debug logs</li>
<li><b>/manialib/</b> : ManiaLib framework; <b>DO NOT MODIFY ANY FILE IN THIS DIRECTORY</b></li>
<li><b>/models/</b> : models</li>
<li><b>/views/</b> : all your views</li>
</ul>

<h3>Documentation</h3>
<p>
The documentation is a work in progress. In the meantime, you can rely on the code 
from the example and on the API reference (<a href="http://api.manialib.com">api.manialib.com</a>).
</p>

</div>
</body>
</html>			